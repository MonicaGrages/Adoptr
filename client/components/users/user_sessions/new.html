<h2 ui-sref="landingPage">Adoptr</h2>
<h4>Log In</h4>

<div class="error" ng-show="$ctrl.loginErrorMessage">{{$ctrl.loginErrorMessage}}</div>
<form ng-submit="$ctrl.handleLoginBtnClick(loginForm)" role="form" ng-init="loginForm = {}" name="login" novalidate>
  <div class="form-group">
    <label for="email">Email</label>
    <input type="email"
           name="email"
           id="email"
           ng-model="loginForm.email"
           required="required"
           class="form-control">
    <div class="error-messages" ng-messages="login.email.$error" ng-show="login.email.$touched">
      <div ng-message="required">Enter an email address</div>
      <div ng-message="email">Enter a valid email. Ex: MyEmail@email.com</div>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input type="password"
           name="password"
           id="password"
           ng-model="loginForm.password"
           required="required"
           class="form-control" ng-minlength="8">
      <div class="error-messages" ng-messages="login.password.$error" ng-show="login.password.$touched">
        <div ng-message="required">Enter your password</div>
        <div ng-message="minlength">Password should be at least 8 characters</div>
      </div>
  </div>

  <button type="submit" ng-disabled="login.email.$invalid" class="adoption_contact_buttons">Sign in</button>
</form>

<p ng-click="$ctrl.seeForgotPasswordForm=true" class="reset_password_link">Reset Password</p>
<p ng-show="$ctrl.passwordResetErrorMessage" ng-hide="$ctrl.passwordResetSuccessMessage" class="error">{{$ctrl.passwordResetErrorMessage}}</p>
<p ng-show="$ctrl.passwordResetSuccessMessage" ng-hide="$ctrl.passwordResetErrorMessage" class="success">{{$ctrl.passwordResetSuccessMessage}}</p>


<div ng-show="$ctrl.seeForgotPasswordForm">
  <form ng-submit="$ctrl.passwordReset($ctrl.passwordResetForm)" name="passwordReset" role="form" ng-init="$ctrl.passwordResetForm = {}" novalidate>
  <p ng-show="passwordReset.$submitted && !$ctrl.passwordResetErrorMessage && !$ctrl.passwordResetSuccessMessage" class="error">Invalid email address</p>
  <div class="form-group">
    <label>Email</label>
    <input type="email" name="email" ng-model="$ctrl.passwordResetForm.email" required="required" class="form-control"/>
    <div class="error-messages" ng-messages="passwordReset.email.$error" ng-show="passwordReset.email.$touched">
      <div ng-message="required">Enter an email address</div>
      <div ng-message="email">Enter a valid email. Ex: MyEmail@email.com</div>
    </div>
  </div>

  <button type="submit" class="adoption_contact_buttons">Request password reset</button>
</form>
</div>
